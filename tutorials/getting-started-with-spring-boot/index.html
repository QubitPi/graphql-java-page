<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/graphql-java-page/blog/rss.xml" title="GraphQL Java RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/graphql-java-page/blog/atom.xml" title="GraphQL Java Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126627606-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Tutorial with Spring for GraphQl | GraphQL Java</title><meta data-react-helmet="true" property="og:title" content="Tutorial with Spring for GraphQl | GraphQL Java"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://QubitPi.github.io//graphql-java-page/tutorials/getting-started-with-spring-boot"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/graphql-java-page/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://QubitPi.github.io//graphql-java-page/tutorials/getting-started-with-spring-boot"><link data-react-helmet="true" rel="alternate" href="https://QubitPi.github.io//graphql-java-page/tutorials/getting-started-with-spring-boot" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://QubitPi.github.io//graphql-java-page/tutorials/getting-started-with-spring-boot" hreflang="x-default"><link rel="stylesheet" href="/graphql-java-page/assets/css/styles.cf0d1b68.css">
<link rel="preload" href="/graphql-java-page/assets/js/runtime~main.e4453045.js" as="script">
<link rel="preload" href="/graphql-java-page/assets/js/main.ab3717de.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/graphql-java-page/"><div class="navbar__logo"><img src="/graphql-java-page/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/graphql-java-page/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">GraphQL Java</b></a><a class="navbar__item navbar__link" href="/graphql-java-page/documentation/getting-started">Documentation</a><a href="https://leanpub.com/graphql-java/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Book</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/graphql-java-page/tutorials/getting-started-with-spring-boot">Tutorial</a><a class="navbar__item navbar__link" href="/graphql-java-page/blog">Blog</a><a class="navbar__item navbar__link" href="/graphql-java-page/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/graphql-java-page/documentation/getting-started">v20</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/graphql-java-page/documentation/master/getting-started">master</a></li><li><a class="dropdown__link" href="/graphql-java-page/documentation/getting-started">v20</a></li><li><a class="dropdown__link" href="/graphql-java-page/documentation/v19/getting-started">v19</a></li></ul></div><a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mdx-wrapper mdx-page"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_eQvw"><div class="col col--8"><header><h1>Getting started with Spring for GraphQL</h1></header><p>In this tutorial, you will create a GraphQL server in Java using <a href="https://docs.spring.io/spring-graphql/docs/current/reference/html/" target="_blank" rel="noopener noreferrer">Spring for GraphQL</a>. It requires a little Spring and Java knowledge. While we give a brief introduction to GraphQL, the focus of this tutorial is developing a GraphQL server in Java.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="a-very-short-introduction-to-graphql">A very short introduction to GraphQL<a aria-hidden="true" class="hash-link" href="#a-very-short-introduction-to-graphql" title="Direct link to heading">â€‹</a></h2><p>GraphQL is a query language to retrieve data from a server. It is an alternative to REST, SOAP or gRPC.</p><p>Let&#x27;s suppose we want to query the details for a specific book from an online store backend.</p><p>With GraphQL you send the following query to the server to get the details for the book with the id &quot;book-1&quot;:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> bookDetails </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bookById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;book-1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pageCount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This is not JSON (even though it looks deliberately similar), it is a GraphQL query.
It basically says:</p><ul><li>query a book with a specific id</li><li>get me the id, name, pageCount and author from that book</li><li>for the author, I want to know the firstName and lastName</li></ul><p>The response is normal JSON:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;bookById&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;book-1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Harry Potter and the Philosopher&#x27;s Stone&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;pageCount&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">223</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;author&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;firstName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Joanne&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;lastName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Rowling&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>One very important property of GraphQL is that it is statically typed: the server knows exactly the shape of every object you can query and any client can actually &quot;introspect&quot; the server and ask for the &quot;schema&quot;. The schema describes what queries are possible and what fields you can get back. (Note: when we refer to schema here, we always refer to a &quot;GraphQL Schema&quot;, which is not related to other schemas like &quot;JSON Schema&quot; or &quot;Database Schema&quot;)</p><p>The schema for the above query looks like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">bookById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">pageCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">author</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Author</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Author</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This tutorial will focus on how to implement a GraphQL server with this schema in Java.</p><p>We&#x27;ve barely scratched the surface of what&#x27;s possible with GraphQL. Further information can be found on the <a href="https://graphql.org/learn/" target="_blank" rel="noopener noreferrer">official GraphQL page</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="graphql-java-overview">GraphQL Java Overview<a aria-hidden="true" class="hash-link" href="#graphql-java-overview" title="Direct link to heading">â€‹</a></h2><p><a href="https://www.graphql-java.com" target="_blank" rel="noopener noreferrer">GraphQL Java</a> is the Java (server) implementation for GraphQL.
There are several repositories in the GraphQL Java Github org. The most important one is the <a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer">GraphQL Java Engine</a> which is the basis for everything else.</p><p>The GraphQL Java Engine is only concerned with executing queries. It doesn&#x27;t deal with any HTTP or JSON related topics. For these aspects, we will use <a href="https://docs.spring.io/spring-graphql/docs/current/reference/html/" target="_blank" rel="noopener noreferrer">Spring for GraphQL</a> which takes care of exposing our API via Spring Boot over HTTP.</p><p>The main steps of creating a GraphQL Java server are:</p><ol><li>Defining a GraphQL Schema.</li><li>Deciding on how the actual data for a query is fetched.</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="our-example-api-getting-book-details">Our example API: getting book details<a aria-hidden="true" class="hash-link" href="#our-example-api-getting-book-details" title="Direct link to heading">â€‹</a></h2><p>Our example app will be a simple API to get details for a specific book.
This is in no way a comprehensive API, but it is enough for this tutorial.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-a-spring-boot-app">Create a Spring Boot app<a aria-hidden="true" class="hash-link" href="#create-a-spring-boot-app" title="Direct link to heading">â€‹</a></h2><p>The easiest way to create a Spring Boot app is to use the <a href="https://start.spring.io/" target="_blank" rel="noopener noreferrer">Spring Initializr</a>.</p><p>Select:</p><ul><li>Gradle Project</li><li>Java</li><li>Spring Boot 2.7.x</li></ul><p>For the project metadata, use:</p><ul><li>Group: <code>com.graphql-java.tutorial</code></li><li>Artifact: <code>bookDetails</code></li></ul><p>For dependencies, use:</p><ul><li>Spring Web</li><li>Spring for GraphQL</li></ul><p>Then click on <code>Generate</code> for a ready to use Spring Boot app.
All subsequently mentioned files and paths will be relative to this generated project.</p><p>Spring for GraphQL adds many useful features including loading schema files, initializing GraphQL Java, and simplifying data fetching with controller annotations.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="schema">Schema<a aria-hidden="true" class="hash-link" href="#schema" title="Direct link to heading">â€‹</a></h2><p>Create a directory <code>src/main/resources/graphql</code>. </p><p>Add a new file <code>schema.graphqls</code> to <code>src/main/resources/graphql</code> with the following content:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">bookById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Book</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">pageCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">author</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Author</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Author</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This schema defines one top level field (in the type <code>Query</code>):  <code>bookById</code> which returns the details of a specific book.</p><p>It also defines the type <code>Book</code> which has the fields: <code>id</code>, <code>name</code>, <code>pageCount</code> and <code>author</code>.
<code>author</code> is of type <code>Author</code>, which is defined after <code>Book</code>.</p><blockquote><p>The Domain Specific Language (shown above) used to describe a schema is called the Schema Definition Language or SDL. More details about it can be found <a href="https://graphql.org/learn/schema/" target="_blank" rel="noopener noreferrer">here</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="source-of-the-data">Source of the data<a aria-hidden="true" class="hash-link" href="#source-of-the-data" title="Direct link to heading">â€‹</a></h2><p>To simplify the tutorial, book and author data will come from static lists inside their respective classes.
It is very important to understand that GraphQL doesn&#x27;t dictate in any way where the data comes from.
This is the power of GraphQL: it can come from a static in-memory list, from a database or an external service.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-the-book-class">Create the Book class<a aria-hidden="true" class="hash-link" href="#create-the-book-class" title="Direct link to heading">â€‹</a></h3><p>Add the following to <code>bookDetails/Book.java</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public class Book {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int pageCount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String authorId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Book(String id, String name, int pageCount, String authorId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.id = id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.pageCount = pageCount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.authorId = authorId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static List&lt;Book&gt; books = Arrays.asList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Book(&quot;book-1&quot;, &quot;Harry Potter and the Philosopher&#x27;s Stone&quot;, 223, &quot;author-1&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Book(&quot;book-2&quot;, &quot;Moby Dick&quot;, 635, &quot;author-2&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Book(&quot;book-3&quot;, &quot;Interview with the vampire&quot;, 371, &quot;author-3&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Book getById(String id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return books.stream().filter(book -&gt; book.getId().equals(id)).findFirst().orElse(null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getAuthorId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return authorId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-the-author-class">Create the Author class<a aria-hidden="true" class="hash-link" href="#create-the-author-class" title="Direct link to heading">â€‹</a></h3><p>Add the following to <code>bookDetails/Author.java</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public class Author {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String firstName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String lastName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Author(String id, String firstName, String lastName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.id = id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.firstName = firstName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.lastName = lastName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static List&lt;Author&gt; authors = Arrays.asList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Author(&quot;author-1&quot;, &quot;Joanne&quot;, &quot;Rowling&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Author(&quot;author-2&quot;, &quot;Herman&quot;, &quot;Melville&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Author(&quot;author-3&quot;, &quot;Anne&quot;, &quot;Rice&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Author getById(String id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return authors.stream().filter(author -&gt; author.getId().equals(id)).findFirst().orElse(null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="adding-code-to-fetch-data">Adding code to fetch data<a aria-hidden="true" class="hash-link" href="#adding-code-to-fetch-data" title="Direct link to heading">â€‹</a></h2><p>Spring for GraphQL provides an <a href="https://docs.spring.io/spring-graphql/docs/current/reference/html/#controllers" target="_blank" rel="noopener noreferrer">annotation-based programming model</a> to declare handler methods to fetch the data for specific GraphQL fields.</p><p>Add the following to <code>bookDetails/BookController.java</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BookController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @QueryMapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Book bookById(@Argument String id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Book.getById(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @SchemaMapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Author author(Book book) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Author.getById(book.getAuthorId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <code>@QueryMapping</code> annotation binds this method to a query, a field under the Query type.
The query field is then determined from the method name, <code>bookById</code>. It could also be declared on the annotation.
Spring for GraphQL uses <code>RuntimeWiring.Builder</code> to register the handler method as a <code>graphql.schema.DataFetcher</code> for the query field <code>bookById</code>.</p><p>In GraphQL Java, <code>DataFetchingEnvironment</code> provides access to a map of field-specific argument values.
Use the <code>@Argument</code> annotation to have an argument bound to a target object and injected into the handler method.
By default, the method parameter name is used to look up the argument.
The argument name can be specified in the annotation.</p><p>The <code>@SchemaMapping</code> annotation maps a handler method to a field in the GraphQL schema and declares it to be the <code>DataFetcher</code> for that field.
The field name defaults to the method name, and the type name defaults to the simple class name of the source/parent object injected into the method. In this example, the field defaults to <code>author</code> and the type defaults to <code>Book</code>.
The type and field can be specified in the annotation.</p><p>For more, see the <a href="https://docs.spring.io/spring-graphql/docs/current/reference/html/#controllers" target="_blank" rel="noopener noreferrer">documentation for the Spring for GraphQL annotated controller feature</a>.</p><p>That&#x27;s all the code we need! Let&#x27;s run our first query.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="running-our-first-query">Running our first query<a aria-hidden="true" class="hash-link" href="#running-our-first-query" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="enable-the-graphiql-playground">Enable the GraphiQL Playground<a aria-hidden="true" class="hash-link" href="#enable-the-graphiql-playground" title="Direct link to heading">â€‹</a></h3><p>GraphiQL is a useful visual interface for writing and executing queries, and much more. Enable GraphiQL by adding this config to the <code>application.properties</code> file.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">spring.graphql.graphiql.enabled=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.graphql.graphiql.path=/graphiql</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="boot-the-application">Boot the application<a aria-hidden="true" class="hash-link" href="#boot-the-application" title="Direct link to heading">â€‹</a></h3><p>Start your Spring application. </p><p>Navigate to <a href="http://localhost:8080/graphiql" target="_blank" rel="noopener noreferrer">http://localhost:8080/graphiql</a> or your custom URL.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="run-the-query">Run the query<a aria-hidden="true" class="hash-link" href="#run-the-query" title="Direct link to heading">â€‹</a></h3><p>Type in the query and hit the play button at the top of the window.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> bookDetails </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bookById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;book-1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pageCount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You should see a response like this.
<img alt="GraphQL response" src="/graphql-java-page/assets/images/graphiQL-e8c90ab4cc61bdf0d6176b77802a8fb2.png"></p><p>We have built a GraphQL server and run our first query!
With the help of Spring for GraphQL features, we were able to achieve this with only a few lines of code.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="further-reading">Further reading<a aria-hidden="true" class="hash-link" href="#further-reading" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="sample-source-code">Sample source code<a aria-hidden="true" class="hash-link" href="#sample-source-code" title="Direct link to heading">â€‹</a></h3><p>The source code for this tutorial can be found on <a href="https://github.com/graphql-java/tutorials" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="documentation">Documentation<a aria-hidden="true" class="hash-link" href="#documentation" title="Direct link to heading">â€‹</a></h3><p>Read the GraphQL Java <a href="https://www.graphql-java.com/documentation/getting-started" target="_blank" rel="noopener noreferrer">documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="more-spring-for-graphql-examples">More Spring for GraphQL examples<a aria-hidden="true" class="hash-link" href="#more-spring-for-graphql-examples" title="Direct link to heading">â€‹</a></h3><p>See samples in the <a href="https://github.com/spring-projects/spring-graphql/tree/1.0.x/samples" target="_blank" rel="noopener noreferrer">1.0.x branch</a>, which will soon be <a href="https://github.com/spring-projects/spring-graphql/issues/208" target="_blank" rel="noopener noreferrer">moved into</a> a separate repository.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="github-discussions">GitHub Discussions<a aria-hidden="true" class="hash-link" href="#github-discussions" title="Direct link to heading">â€‹</a></h3><p>We also use <a href="https://github.com/graphql-java/graphql-java/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a> for any questions or problems.</p></div><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-very-short-introduction-to-graphql" class="table-of-contents__link toc-highlight">A very short introduction to GraphQL</a></li><li><a href="#graphql-java-overview" class="table-of-contents__link toc-highlight">GraphQL Java Overview</a></li><li><a href="#our-example-api-getting-book-details" class="table-of-contents__link toc-highlight">Our example API: getting book details</a></li><li><a href="#create-a-spring-boot-app" class="table-of-contents__link toc-highlight">Create a Spring Boot app</a></li><li><a href="#schema" class="table-of-contents__link toc-highlight">Schema</a></li><li><a href="#source-of-the-data" class="table-of-contents__link toc-highlight">Source of the data</a><ul><li><a href="#create-the-book-class" class="table-of-contents__link toc-highlight">Create the Book class</a></li><li><a href="#create-the-author-class" class="table-of-contents__link toc-highlight">Create the Author class</a></li></ul></li><li><a href="#adding-code-to-fetch-data" class="table-of-contents__link toc-highlight">Adding code to fetch data</a></li><li><a href="#running-our-first-query" class="table-of-contents__link toc-highlight">Running our first query</a><ul><li><a href="#enable-the-graphiql-playground" class="table-of-contents__link toc-highlight">Enable the GraphiQL Playground</a></li><li><a href="#boot-the-application" class="table-of-contents__link toc-highlight">Boot the application</a></li><li><a href="#run-the-query" class="table-of-contents__link toc-highlight">Run the query</a></li></ul></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further reading</a><ul><li><a href="#sample-source-code" class="table-of-contents__link toc-highlight">Sample source code</a></li><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#more-spring-for-graphql-examples" class="table-of-contents__link toc-highlight">More Spring for GraphQL examples</a></li><li><a href="#github-discussions" class="table-of-contents__link toc-highlight">GitHub Discussions</a></li></ul></li></ul></div></div></div></main></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/graphql-java-page/documentation/getting-started">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/graphql-java-page/tutorials/getting-started-with-spring-boot">3 Min Tutorial</a></li><li class="footer__item"><a href="https://javadoc.io/doc/com.graphql-java/graphql-java/" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaDoc</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/graphql-java/graphql-java/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/graphql_java" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/graphql-java-page/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Andreas Marek.</div></div></div></footer></div>
<script src="/graphql-java-page/assets/js/runtime~main.e4453045.js"></script>
<script src="/graphql-java-page/assets/js/main.ab3717de.js"></script>
</body>
</html>