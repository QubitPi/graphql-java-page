<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GraphQL Java RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GraphQL Java Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126627606-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Building efficient data fetchers by looking ahead | GraphQL Java</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://graphql-java.qubitpi.org//blog/deep-dive-data-fetcher-results"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Building efficient data fetchers by looking ahead | GraphQL Java"><meta data-react-helmet="true" name="description" content="Today we are looking into the graphql.schema.DataFetchingFieldSelectionSet and graphql.execution.DataFetcherResult objects as means"><meta data-react-helmet="true" property="og:description" content="Today we are looking into the graphql.schema.DataFetchingFieldSelectionSet and graphql.execution.DataFetcherResult objects as means"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2019-04-11T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/bbakerman"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://graphql-java.qubitpi.org//blog/deep-dive-data-fetcher-results"><link data-react-helmet="true" rel="alternate" href="https://graphql-java.qubitpi.org//blog/deep-dive-data-fetcher-results" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://graphql-java.qubitpi.org//blog/deep-dive-data-fetcher-results" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e18100f3.css">
<link rel="preload" href="/assets/js/runtime~main.13fe404b.js" as="script">
<link rel="preload" href="/assets/js/main.b5cdfa09.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">GraphQL Java</b></a><a class="navbar__item navbar__link" href="/documentation/getting-started">Documentation</a><a href="https://leanpub.com/graphql-java/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Book</a><a class="navbar__item navbar__link" href="/tutorials/getting-started-with-spring-boot">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/security">Security</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/documentation/getting-started">v23</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/documentation/master/getting-started">master</a></li><li><a class="dropdown__link" href="/documentation/getting-started">v23</a></li></ul></div><a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">All posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/v23-released">Version 23 released</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/cna">GraphQL Java is a CVE Numbering Authority</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/performance">Automated performance testing for GraphQL Java</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/v22-released">Version 22 released</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/v21-released">Version 21 released</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/release-policy">GraphQL Java release policy</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/java-11-required">GraphQL Java will require Java 11</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/version-20-released">Version 20 released</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/spring-for-graphql">Spring for GraphQL is the recommended Spring integration</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/17-released-and-lts">GraphQL Java 17 released and an update about LTS</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/spec-releases-are-not-important">GraphQL spec releases are not important</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/threads">GraphQL Java and Threads</a></li><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/deep-dive-data-fetcher-results">Building efficient data fetchers by looking ahead</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/deep-dive-merged-fields">GraphQL Deep Dive Part 1 - merged fields</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/graphql-java-spring-support">First release of GraphQL Java Spring</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/introducing-extended-scalars">Introducing graphql-java-extended-scalars</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/graphql-java-aims-to-be-used-directly">GraphQL Java aims to be used directly</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/breaking-changes-and-lts">About breaking changes and Long-term support</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/spectrum-and-new-doc">Moving to spectrum and new documentation home</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/moving-projects">Moving projects out of the GraphQL Java org</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/welcome-to-graphql-java">Welcome to the new GraphQL Java homepage</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">Building efficient data fetchers by looking ahead</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2019-04-11T00:00:00.000Z" itemprop="datePublished">April 11, 2019</time> Â· <!-- -->5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><a href="https://github.com/bbakerman" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_9q7L" src="https://github.com/bbakerman.png" alt="Brad Baker"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/bbakerman" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Baker</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of GraphQL Java</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Today we are looking into the <code>graphql.schema.DataFetchingFieldSelectionSet</code> and <code>graphql.execution.DataFetcherResult</code> objects as means
to build efficient data fetchers.</p><header><h1>The scenario</h1></header><p>But first lets set the scene. Imagine we have a system that can return <code>issues</code> and the <code>comments</code> on those <code>issues</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  issues </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    summary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    comments </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Nominally we would have a <code>graphql.schema.DataFetcher</code> on <code>issues</code> that returns a list of issues and one on the field <code>comments</code> that returns the list of comments
for each issue <code>source</code> object.</p><p>As you can see this naively creates an <em>N+1 problem</em> where we need to fetch data multiple times, one for each <code>issue</code> object in isolation.</p><p>We could attack this using the <code>org.dataloader.DataLoader</code> pattern but there is another way which will discuss in this article.</p><header><h1>Look ahead via DataFetchingFieldSelectionSet</h1></header><p>The data fetcher behind the <code>issues</code> field is able to look ahead and see what sub fields are being asked for.  In this case it knows that <code>comments</code> are being asked
for and hence it could prefetch them at the same time.</p><p><code>graphql.schema.DataFetchingEnvironment#getSelectionSet</code> (aka <code>graphql.schema.DataFetchingFieldSelectionSet</code>) can be used by data fetcher code to get the selection set of fields for a given parent field.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">DataFetcher issueDataFetcher = environment -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DataFetchingFieldSelectionSet selectionSet = environment.getSelectionSet();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (selectionSet.contains(&quot;comments&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IssueAndCommentsDTO&gt; data = getAllIssuesWithComments(environment, selectionSet.getFields());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IssueDTO&gt; issues = getAllIssuesWitNoComments(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return issues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Imagine this is backed by an SQL system we might be able to use this field look ahead to produce the following SQL</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> Issues</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Issues</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Summary</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Comments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> Comments </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> Issues</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CommentID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Comments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ID</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>So we have looked ahead and returned different data depending on the field sub selection.  We have made our system more efficient by using look ahead
to fetch data just the <code>1</code> time and not <code>N+1</code> times.</p><header><h1>Code Challenges</h1></header><p>The challenge with this code design is that the shapes of the returned data is now field sub selection specific.  We needed a <code>IssueAndCommentsDTO</code> for one sub selection
path and a simpler <code>IssueDTO</code> for another path.</p><p>With enough paths this becomes problematic as it adds new DTO classes per path and makes out child data fetchers more complex</p><p>Also the standard graphql pattern is that the returned object becomes the <code>source</code> ie. <code>graphql.schema.DataFetchingEnvironment#getSource</code> of the next child
data fetcher.  But we might have pre fetched data that is needed 2 levels deep and this is challenging to do since each data fetcher would need to capture and copy
that data down to the layers below via new TDOs classes per level.</p><header><h1>Passing Data and Local Context</h1></header><p>GraphQL Java offers a capability that helps with this pattern.  GraphQL Java goes beyond what the reference graphql-js system gives you where the object you
returned is automatically the <code>source</code> of the next child fetcher and that&#x27;s all it can be.</p><p>In GraphQL Java you can use well known <code>graphql.execution.DataFetcherResult</code> to return three sets of values</p><ul><li><code>data</code>  - which will be used as the source on the next set of sub fields</li><li><code>errors</code> - allowing you to return data as well as errors</li><li><code>localContext</code> - which allows you to pass down field specific context</li></ul><p>When the engine sees the <code>graphql.execution.DataFetcherResult</code> object, it automatically unpacks it and handles it three classes of data in specific ways.</p><p>In our example case we will be use <code>data</code> and <code>localContext</code> to communicate between fields easily.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">DataFetcher issueDataFetcher = environment -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DataFetchingFieldSelectionSet selectionSet = environment.getSelectionSet();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (selectionSet.contains(&quot;comments&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IssueAndCommentsDTO&gt; data = getAllIssuesWithComments(environment, selectionSet.getFields());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IssueDTO&gt; issues = data.stream().map(dto -&gt; dto.getIssue()).collect(toList());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;IssueDTO, List&lt;CommentDTO&gt;&gt; preFetchedComments = mkMapOfComments(data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return DataFetcherResult.newResult()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .data(issues)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .localContext(preFetchedComments)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IssueDTO&gt; issues = getAllIssuesWitNoComments(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return DataFetcherResult.newResult()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .data(issues)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If you look now you will see that our data fetcher returns a <code>DataFetcherResult</code> object that contains <code>data</code> for the child data fetchers which is the
list of <code>issueDTO</code> objects as per usual.  It will be their <code>source</code> object when they run.</p><p>It also passes down field specific <code>localContext</code> which is the pre-fetched comment data.</p><p>Unlike the global context object, local context objects are passed down from a specific field to its children and are not shared across to peer fields.  This means
a parent field has a &quot;back channel&quot; to talk to the child fields without having to &quot;pollute&quot; the DTO source objects with that information and it is &quot;local&quot; in the sense
that it given only to this field and its children and not any other field in the query.</p><p>Now lets look at the <code>comments</code> data fetcher and how it consumes this back channel of data</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">DataFetcher commentsDataFetcher = environment -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IssueDTO issueDTO = environment.getSource();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;IssueDTO, List&lt;CommentDTO&gt;&gt; preFetchedComments = environment.getLocalContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;CommentDTO&gt; commentDTOS = preFetchedComments.get(issueDTO);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return DataFetcherResult.newResult()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .data(commentDTOS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .localContext(preFetchedComments)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Notice how it got the <code>issueDTO</code> as its source object as expected but it also got a local context object which is our pre-fetched comments.  It can choose
to pass on new local context OR if it passes nothing then the previous value will bubble down to the next lot of child fields.  So you can think of <code>localContext</code>
as being inherited unless a fields data fetcher explicitly overrides it.</p><p>Our data fetcher is a bit more complex because of the data pre-fetching but &#x27;localContext&#x27; allows us a nice back channel to pass data without modifying our DTO objects
that are being used in more simple data fetchers.</p><header><h1>Passing back Errors or Data or Both</h1></header><p>For completeness we will show you that you can also pass down errors or data or local context or all of them at once.</p><p>It is perfectly valid to fetch data in graphql and to ALSO send back errors.  Its not common but its valid. Some data is better than no data.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">GraphQLError error = mkSpecialError(&quot;Its Tuesday&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return DataFetcherResult.newResult()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .data(commentDTOS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .error(error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/threads"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->GraphQL Java and Threads</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/deep-dive-merged-fields"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">GraphQL Deep Dive Part 1 - merged fields<!-- --> Â»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/documentation/getting-started">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/getting-started-with-spring-boot">3 Min Tutorial</a></li><li class="footer__item"><a href="https://javadoc.io/doc/com.graphql-java/graphql-java/" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaDoc</a></li><li class="footer__item"><a class="footer__link-item" href="/security">Security</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/graphql-java/graphql-java/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Andreas Marek.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.13fe404b.js"></script>
<script src="/assets/js/main.b5cdfa09.js"></script>
</body>
</html>